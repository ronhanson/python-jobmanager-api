#!/usr/bin/env python
# -*- coding: utf-8 -*-
# vim: ai ts=4 sts=4 et sw=4 nu
"""
(c) 2014 Ronan Delacroix
Job Manager Utility - Main File
:author: Ronan Delacroix
"""
import os
import sys
import six
import argparse
import jobmanager.api
import mongoengine
import tbx
import tbx.log
import tbx.settings


settings = tbx.settings.from_file('api', application_name='jobmanager')
tbx.log.configure_logging("jobmanager-api", application_name='jobmanager', settings=settings.LOG)


def main():
    mongoengine.connect(host=settings.DATABASE.HOST, port=settings.DATABASE.PORT, db=settings.DATABASE.NAME )

    jobmanager.api.run_api(host=settings.WEB.HOST, port=settings.WEB.PORT, debug=settings.WEB.DEBUG)

    exit(0)

if __name__ == "__main__":
    main()
